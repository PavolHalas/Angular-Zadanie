{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"./title.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nconst _c0 = [\"userForm\"];\n\nfunction SimpleFormComponent_option_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 18);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const option_r4 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", option_r4.name);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(option_r4.name);\n  }\n}\n\nfunction SimpleFormComponent_small_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\", 19);\n    i0.ɵɵtext(1, \"* Last name is mandatory\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nexport let SimpleFormComponent = /*#__PURE__*/(() => {\n  class SimpleFormComponent {\n    constructor(titleService) {\n      this.titleService = titleService;\n      this.filteredTitles = [];\n      this.acceptTerm = false;\n      this.buttonClicked = false;\n    }\n\n    ngOnInit() {\n      this.getTitles();\n      this.getDefaultTitle();\n    }\n\n    getTitles() {\n      const regexPattern = new RegExp(\"^[A-Za-z]\", 'g');\n      this.titleService.getTitles().subscribe(listTitles => this.filteredTitles = listTitles.filter(({\n        name\n      }) => name.match(regexPattern)).sort((a, b) => a.name.localeCompare(b.name)));\n    }\n\n    getDefaultTitle() {\n      this.titleService.getTitles().subscribe(listTitles => this.defaultTitle = listTitles.filter(obj => obj.isDefault)[0].name);\n    }\n\n    onSubmit() {\n      this.buttonClicked = true;\n\n      if (this.form.valid) {\n        this.selectedTitle = this.form.value.title;\n        this.firstName = this.form.value.firstname;\n        this.lastName = this.form.value.lastname;\n        this.acceptTerm = this.form.value.acceptTerm;\n        console.log(this.form.value);\n      }\n    }\n\n  }\n\n  SimpleFormComponent.ɵfac = function SimpleFormComponent_Factory(t) {\n    return new (t || SimpleFormComponent)(i0.ɵɵdirectiveInject(i1.TitleService));\n  };\n\n  SimpleFormComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: SimpleFormComponent,\n    selectors: [[\"simple-form\"]],\n    viewQuery: function SimpleFormComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.form = _t.first);\n      }\n    },\n    decls: 31,\n    vars: 5,\n    consts: [[3, \"ngSubmit\"], [\"userForm\", \"ngForm\"], [1, \"main-div\"], [1, \"form-group\"], [\"name\", \"title\", 3, \"ngModel\"], [\"value\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"for\", \"firstname\"], [\"name\", \"firstname\", \"type\", \"text\", \"placeholder\", \"First name\", \"ngModel\", \"\", 1, \"input-control\"], [\"for\", \"lastname\"], [\"id\", \"lastname\", \"name\", \"lastname\", \"type\", \"text\", \"placeholder\", \"Last name\", \"ngModel\", \"\", \"required\", \"\", 1, \"input-control\"], [\"lastname\", \"ngModel\"], [\"class\", \"input-control\", 4, \"ngIf\"], [\"id\", \"check-input\"], [\"name\", \"acceptTerm\", \"type\", \"checkbox\", \"id\", \"acceptTerm\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"acceptTerm\"], [\"id\", \"submit\"], [3, \"disabled\"], [3, \"value\"], [1, \"input-control\"]],\n    template: function SimpleFormComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"form\", 0, 1);\n        i0.ɵɵlistener(\"ngSubmit\", function SimpleFormComponent_Template_form_ngSubmit_0_listener() {\n          return ctx.onSubmit();\n        });\n        i0.ɵɵelementStart(2, \"div\", 2)(3, \"h1\");\n        i0.ɵɵtext(4, \"Aareon Angular Test\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"div\", 3)(6, \"label\");\n        i0.ɵɵtext(7, \"Title\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"select\", 4)(9, \"option\", 5);\n        i0.ɵɵtext(10, \"-- Select an option --\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(11, SimpleFormComponent_option_11_Template, 2, 2, \"option\", 6);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(12, \"div\", 3)(13, \"label\", 7);\n        i0.ɵɵtext(14, \"First name\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(15, \"input\", 8);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"div\", 3)(17, \"label\", 9);\n        i0.ɵɵtext(18, \"Last name\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(19, \"input\", 10, 11);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"div\", 3);\n        i0.ɵɵelement(22, \"label\");\n        i0.ɵɵtemplate(23, SimpleFormComponent_small_23_Template, 2, 0, \"small\", 12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(24, \"div\", 13)(25, \"input\", 14);\n        i0.ɵɵlistener(\"ngModelChange\", function SimpleFormComponent_Template_input_ngModelChange_25_listener($event) {\n          return ctx.acceptTerm = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(26, \"label\", 15);\n        i0.ɵɵtext(27, \"I accept the terms & conditions\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(28, \"div\", 16)(29, \"button\", 17);\n        i0.ɵɵtext(30, \"Submit\");\n        i0.ɵɵelementEnd()()()();\n      }\n\n      if (rf & 2) {\n        const _r2 = i0.ɵɵreference(20);\n\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"ngModel\", ctx.defaultTitle);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngForOf\", ctx.filteredTitles);\n        i0.ɵɵadvance(12);\n        i0.ɵɵproperty(\"ngIf\", _r2.invalid && _r2.touched || _r2.invalid && ctx.buttonClicked);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngModel\", ctx.acceptTerm);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"disabled\", !ctx.acceptTerm);\n      }\n    },\n    dependencies: [i2.NgForOf, i2.NgIf, i3.ɵNgNoValidate, i3.NgSelectOption, i3.ɵNgSelectMultipleOption, i3.DefaultValueAccessor, i3.CheckboxControlValueAccessor, i3.SelectControlValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.RequiredValidator, i3.NgModel, i3.NgForm],\n    styles: [\".main-div[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.7em;padding:1em}.form-group[_ngcontent-%COMP%]{display:flex}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;align-self:center;width:8em;font-weight:700}.form-group[_ngcontent-%COMP%]   .input-control[_ngcontent-%COMP%]{flex-grow:1;display:block}#check-input[_ngcontent-%COMP%]{display:inline-flex;margin-left:.7em;gap:.5em}#submit[_ngcontent-%COMP%]{display:flex;flex-direction:column}button[_ngcontent-%COMP%]{align-self:flex-end}input.ng-invalid.ng-touched[_ngcontent-%COMP%], .ng-invalid.ng-submitted[_ngcontent-%COMP%]   input#lname[_ngcontent-%COMP%]{border:red .2em solid}small[_ngcontent-%COMP%]{color:red}\"]\n  });\n  return SimpleFormComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}